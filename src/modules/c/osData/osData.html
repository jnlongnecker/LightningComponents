<template>
    <!--
        Let's introduce the concept of accessibility:
        All websites should be accessible to everyone, regardless of disabilities. Otherwise, you are creating barriers
        for people who otherwise would be interested in your website. To overcome this, there are many technologies
        that allow for everyone to access the web. We as developers need only to design for those technologies.
        How do we do that? Well, we'll go over some of the important ones:

        -- Semantic Markup --
        Semantic markup is simply using markup in places where it makes sense. Each tag has a meaning, we need only to
        use the tag in the proper context. For example, I could have a list of items in 4 different <p> tags, wrapped
        in a div. However, this has no semantic meaning. On the other hand, an <ul> with <li> has the semantic meaning of
        a list of items in no order.

        -- Aria --
        Accessible Rich Internet Applications (ARIA) is a standard developed by the Web Accessibility Initiative (WAI)
        in order to create, you guessed it, accessible web applications. Aria describes ways of adding attributes for
        accessibility purposes as well as for navigation for users without the ability to accurately move a mouse.
        Now, what the heck does this really mean? Well, Aria fills in the gaps where semantic markup simply isn't
        enough. If there isn't proper semantic markup to describe what an element is doing, we can use special
        Aria attributes to describe these functions.
        Link to valid Aria roles and other attributes: https://w3c.github.io/using-aria/#aria-roles

        -- Tab Order --
        Interactive elements (<a>, <input>, <button>, etc) are described as "tabable", meaning that the user can simply
        press the tab key in order to jump to the next tab point. The order that is set for the elements is the order
        that they appear in the HTML document; that is, elements on a lower line number are tabbed to first. You must
        construct your document to reflect the proper order desired and should not alter this order. In fact, LWC goes
        as far as disabling our option to restructure the Tab Order: the tabindex attribute. We can only assign 2
        tabindex values: 0 and -1. 0 places an otherwise untabbable element in the tab order. -1 removes an element
        from the tab order.

        -- LWC and Title --
        Certain LWC have the title attribute. This functions similarly to the aria-label attribute, and on elements that
        have this attribute, it should always be filled out. We can use @api to expose title for our custom components as
        well as manipulate any other aria attributes.

        -- Aria and JavaScript --
        We can manipulate the state of all attributes by using the setAttribute("attribute-name", "newValue") function
        on the element that we wish to change the attribute for. Certain aria values should be manipulated via
        JavaScript to reflect details about the element that would be impossible to tell to those with certain disabilities.
    -->
    <div class="container">

        <!-- Note the use of Semantic Markup for accessibility -->
        <section>
            <h1>Working with Open Source Data</h1>
            <hr />
            <p>
                In our Open Source web components, all the data responsibility is on us! Meaning we once again turn
                to our classic API usage in order to pull data from the outside. Since we're not using Platform web
                components, we're not going to be accessing Salesforce data.
            </p>
        </section>

        <!-- The search role designates an area used for some kind of search controls -->
        <section role="search">

            <!-- Interactable elements must be constructed with great attention. They must be labeled for clarity -->
            <!-- Construct the page to preserve the proper tab order: input first then button -->
            <input aria-label="Pokemon name input" type="text" class="text-box" value={pokemonName}
                onkeydown={updatePokemonData} />
            <button aria-label="Search button" type="button" class="button" onclick={updatePokemonData}>Search</button>
        </section>

        <!-- Include aria where more description is useful. Here, it is just information so aria doesn't provide anything new -->
        <section class="pkm-results" if:true={pokemonData}>
            <div class="panel">
                <h3 class="pkm-header">Abilities</h3>
                <ul class="pkm-abilities">
                    <template iterator:it={pkmAbilities}>
                        <li key={it.value}>{it.value}</li>
                    </template>
                </ul>
            </div>
            <div class="panel">
                <h3 class="pkm-header">{pkmName}</h3>

                <!-- Note the use for alt to accomodate screen readers -->
                <img src={pkmSprite} alt={altText} />
                <ul class="pkm-types">
                    <template iterator:it={pkmTypes}>
                        <li class={it.value} key={it.value}>{it.value}</li>
                    </template>
                </ul>
            </div>
            <div class="panel">
                <h3 class="pkm-header">Stats</h3>
                <ul class="pkm-stats">
                    <li>HP: {pkmHealth}</li>
                    <li>Attack: {pkmAttack}</li>
                    <li>Defense: {pkmDefense}</li>
                    <li>Sp. Attack: {pkmSpAttack}</li>
                    <li>Sp. Defense: {pkmSpDefense}</li>
                    <li>Speed: {pkmSpeed}</li>
                </ul>
            </div>
            <div class="nav-buttons">
                <button class="button" onclick={prevPokemon}>Previous</button>
                <button class="button" onclick={nextPokemon}>Next</button>
            </div>
        </section>
    </div>
</template>